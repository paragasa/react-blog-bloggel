(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{144:function(e,t,a){e.exports=a(290)},257:function(e,t){},259:function(e,t){},290:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(40),s=a.n(c),i=a(30),l=a(6),o=a(7),u=a(8),m=a(14),p=a(13),d=a(63),h=a(15),g=function(e){var t=e.path,a=e.props,r=e.component,c=e.isAuthenticated;return n.a.createElement(i.b,{path:t,render:function(e){return c?n.a.createElement(r,Object.assign({},a,e)):n.a.createElement(i.a,{to:"/login"})}})};g.defaultProps={};var f=g,v=function(e){var t=e.path,a=e.props,r=e.component,c=e.isAuthenticated;return n.a.createElement(i.b,{path:t,render:function(e){return!1===c?n.a.createElement(r,Object.assign({},a,e)):n.a.createElement(i.a,{to:"/"})}})},b=a(1),E=a.n(b),N=a(4),w=a(36),y=a.n(w),x=function(e){var t=e.backgroundImage,a=e.subTitle,r=e.title;return n.a.createElement("header",{className:"header header-inverse",style:{backgroundImage:t},"data-overlay":8},n.a.createElement("div",{className:"container text-center"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-lg-8 offset-lg-2"},n.a.createElement("h1",null,r),n.a.createElement("p",{className:"fs-20 opacity-70"},a)))))},k=function(e){var t=e.article;return n.a.createElement("article",{className:"my-90"},n.a.createElement("header",{className:"text-center mb-40"},n.a.createElement("h3",null,n.a.createElement(l.b,{to:"/article/".concat(t.slug)},t.title)),n.a.createElement("div",{className:"link-color-default fs-12"},n.a.createElement(l.b,{to:"/article/".concat(t.slug)},t.category.name),",",n.a.createElement("time",null,new Date(t.created_at).toDateString()))),n.a.createElement(l.b,{to:"/article/".concat(t.slug)},n.a.createElement("img",{className:"rounded",src:t.imageUrl,alt:"..."})))},A=function(e){var t=e.articles,a=e.nextUrl,r=e.prevUrl,c=e.handlePagination;return n.a.createElement("div",null,n.a.createElement(x,{backgroundImage:"url(assets/img/hero.jpg",title:"Bloggel",subTitle:"Check out some of the latest blogs."}),n.a.createElement("main",{className:"main-content bg-gray"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-lg-6 offset-lg-3"},t&&t.map(function(e){return n.a.createElement("div",{key:e.id},n.a.createElement(k,{article:e}),n.a.createElement("hr",null))}),n.a.createElement("nav",{className:"flexbox mt-15 mb-50"},n.a.createElement("a",{onClick:function(){return c(r)},className:"btn btn-white ".concat(r?"":"disabled")},"Newer",n.a.createElement("i",{className:"ti-arrow-left fs-9 ml-4"})),n.a.createElement("a",{onClick:function(){return c(a)},className:"btn btn-white $ls{nextUrl?'': 'disabled'}"},n.a.createElement("i",{className:"ti-arrow-right fs-9 mr-4"})," Older"))))))},j=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).handlePagination=function(){var t=Object(N.a)(E.a.mark(function t(a){var r;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getArticles(a);case 2:r=t.sent,e.setState({articles:r}),e.props.setArticles(r.data);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.state={articles:{}},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=Object(N.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getArticles();case 2:t=e.sent,this.setState({articles:t}),this.props.setArticles(t.data);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement(A,{articles:this.state.articles.data,nextUrl:this.state.articles.next_page_url,prevUrl:this.state.articles.prev_page_url,handlePagination:this.handlePagination})}}]),t}(n.a.Component);j.protoTypes={getArticles:y.a.func.isRequired};var S=j,O=a(41),U=function(e){var t=e.handleInput,a=e.handleSubmit,r=e.errors;return n.a.createElement("div",{className:"mh-fullscreen bg-img center-vh p-20",style:{backgroundImage:"url(assets/img/bg-signUp.jpg)"}},n.a.createElement("div",{className:"card card-shadowed p-50 w-400 mb-0",style:{maxWidth:"100%"}},n.a.createElement("h5",{className:"text-uppercase text-center"},"Bloggel Login"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("form",{onSubmit:a},n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{name:"email",onChange:t,type:"text",className:"form-control",placeholder:"Username"})),r.email&&n.a.createElement("small",{className:"text-danger"},r.email),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{name:"password",onChange:t,type:"password",className:"form-control",placeholder:"Password"}),r.password&&n.a.createElement("small",{className:"text-danger"},r.password)),n.a.createElement("div",{className:"form-group flexbox py-10"},n.a.createElement("label",{className:"custom-control custom-checkbox"},n.a.createElement("input",{type:"checkbox",className:"custom-control-input",defaultChecked:!0}),n.a.createElement("span",{className:"custom-control-indicator"}),n.a.createElement("span",{className:"custom-control-description"},"Remember me")),n.a.createElement("a",{className:"text-muted hover-primary fs-13",href:"#"},"Forgot password?")),n.a.createElement("div",{className:"form-group"},n.a.createElement("button",{className:"btn btn-bold btn-block btn-primary",type:"submit"},"Login"))),n.a.createElement("hr",{className:"w-30"}),n.a.createElement("p",{className:"text-center text-muted fs-13 mt-20"},"Don't have an account? ",n.a.createElement(l.b,{to:"/register"},"Sign up"))))};U.defaultProps={};var C=U,I=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).handleInput=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t=Object(N.a)(E.a.mark(function t(a){var r;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,e.props.loginUser(e.state);case 4:r=t.sent,e.props.setAuthUser(r),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),e.props.NotificationService.error("Something went wrong."),e.setState({errors:t.t0});case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}(),e.state={email:"",password:"",errors:{}},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement(C,{handleInput:this.handleInput,handleSubmit:this.handleSubmit,errors:this.state.errors})}}]),t}(n.a.Component),P=function(e){var t=e.handleInput,a=e.handleSubmit,r=e.errors;return n.a.createElement("div",{className:"mh-fullscreen bg-img center-vh p-20",style:{backgroundImage:"url(./assets/img/bg-signup.jpg)"}},n.a.createElement("div",{className:"card card-shadowed p-50 w-400 mb-0",style:{maxWidth:"100%"}},n.a.createElement("h5",{className:"text-uppercase text-center"},"Bloggel Register"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("form",{className:"form-type-material",onSubmit:a},n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{name:"name",onChange:t,type:"text",className:"form-control",placeholder:"Username"}),r.name&&n.a.createElement("small",{className:"text-danger"},r.name)),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{name:"email",onChange:t,type:"text",className:"form-control",placeholder:"Email address"}),r.email&&n.a.createElement("small",{className:"text-danger"},r.email)),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{name:"password",onChange:t,type:"password",className:"form-control",placeholder:"Password"}),r.password&&n.a.createElement("small",{className:"text-danger"},r.password)),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{name:"password_confirmation",onChange:t,type:"password",className:"form-control",placeholder:"Password (confirm)"})),n.a.createElement("br",null),n.a.createElement("button",{className:"btn btn-bold btn-block btn-primary",type:"submit"},"Register")),n.a.createElement("hr",{className:"w-30"}),n.a.createElement("p",{className:"text-center text-muted fs-13 mt-20"},"Already have an account?",n.a.createElement(l.b,{to:"/login"},"Sign in"))))};P.defaultProps={};var q=P,_=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).handleInput=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t=Object(N.a)(E.a.mark(function t(a){var r;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,e.props.registerUser(e.state);case 4:r=t.sent,e.props.setAuthUser(r),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),e.props.NotificationService.error("Something went wrong."),e.setState({errors:t.t0});case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}(),e.state={name:"",email:"",password:"",password_confirmation:"",errors:{}},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement(q,{handleInput:this.handleInput,handleSubmit:this.handleSubmit,errors:this.state.errors})}}]),t}(n.a.Component),T=a(29),B=a(141),W=(a(242),function(e){var t=e.handleInput,a=e.editing,r=e.updateArticle,c=(e.article,e.title),s=e.category,i=e.content,l=e.onEditorStateChange,o=e.handleSubmit,u=e.categories,m=e.errors;return n.a.createElement("div",null,n.a.createElement(x,{backgroundImage:"url(".concat("","/assets/img/bg-laptop.jpg)"),title:a?"Editing Article ".concat(c):"Write an article"}),n.a.createElement("main",{className:"main-content"},n.a.createElement("section",{className:"section"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-lg-12"},n.a.createElement("ul",{className:"list-group"},m.map(function(e){return n.a.createElement("li",{key:e.message,className:"list-group-item text-danger"},e.message)})),n.a.createElement("form",{onSubmit:a?r:o,className:"p-30 bg-gray rounded"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"form-group col-md-12 my-5"},n.a.createElement("input",{name:"image",onChange:t,type:"file",className:"form-control"})),n.a.createElement("div",{className:"form-group col-12 col-md-6"},n.a.createElement("input",{onChange:t,className:"form-control form-control-lg",type:"text",name:"title",value:c,placeholder:"Title"})),n.a.createElement("div",{className:"form-group col-12 col-md-6"},n.a.createElement("select",{name:"category",value:s||"",onChange:t,className:"form-control form-control-lg"},n.a.createElement("option",{value:!0},"Select category"),u.map(function(e){return n.a.createElement("option",{key:e.id,value:e.id},e.name)})))),n.a.createElement("div",{className:"form-group"},n.a.createElement(B.Editor,{editorState:i,onEditorStateChange:l})),n.a.createElement("div",{className:"text-center"},n.a.createElement("button",{className:"btn btn-lg btn-primary",type:"submit"},a?"Update Article":"Create Article")))))))))});W.defaultProps={article:null,category:null};var M=W,D=a(84),R=a.n(D),J=a(142),z=a.n(J),L=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).handleInput=function(t){e.setState(Object(O.a)({},t.target.name,"file"===t.target.type?t.target.files[0]:t.target.value))},e.onEditorStateChange=function(t){e.setState({content:t})},e.handleSubmit=function(){var t=Object(N.a)(E.a.mark(function t(a){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,e.props.createArticle({title:e.state.title,content:R()(Object(T.convertToRaw)(e.state.content.getCurrentContent())),category:e.state.category,image:e.state.image},e.props.token);case 4:t.sent,e.props.NotificationService.success("Article Posted!"),e.props.history.push("/"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),e.props.NotificationService.error("Something went wrong."),e.setState({errors:t.t0});case 13:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}(),e.updateArticle=function(){var t=Object(N.a)(E.a.mark(function t(a){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,e.props.updateArticle({title:e.state.title,image:e.state.image,content:R()(Object(T.convertToRaw)(e.state.content.getCurrentContent())),category:e.state.category},e.state.article,e.props.token);case 4:e.props.NotificationService.success("Article Updated"),e.props.history.push("/"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),e.props.NotificationService.error("Something went wrong."),e.setState({errors:t.t0});case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}(),e.state={categories:[],errors:[],editing:!1,article:null,title:"",image:null,content:T.EditorState.createEmpty(),category:null},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=Object(N.a)(E.a.mark(function e(){var t,a,r,n,c,s,i,l,o=this;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.match.params.slug){e.next=15;break}if(t=this.props.articles.find(function(e){return e.slug===o.props.match.params.slug})){e.next=5;break}return this.props.history.push("/user/articles"),e.abrupt("return");case 5:return e.next=7,this.props.getArticleCategories();case 7:a=e.sent,r=z()(t.content),n=r.contentBlocks,c=r.entityMap,s=T.ContentState.createFromBlockArray(n,c),i=T.EditorState.createWithContent(s),this.setState({title:t.title,category:t.category_id,content:i,editing:!0,article:t,categories:a}),e.next=19;break;case 15:return e.next=17,this.props.getArticleCategories();case 17:l=e.sent,this.setState({categories:l});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement(M,{handleInput:this.handleInput,handleSubmit:this.handleSubmit,categories:this.state.categories,errors:this.state.errors,editing:this.state.editing,article:this.state.article,title:this.state.title,category:this.state.category,content:this.state.content,updateArticle:this.updateArticle,onEditorStateChange:this.onEditorStateChange})}}]),t}(n.a.Component);L.defaultProps={updateArticle:function(){},articles:[]};var F=L,H=a(143),$=a.n(H),G=function(e){var t=e.article;return n.a.createElement("div",null,n.a.createElement("header",{className:"header header-inverse h-fullscreen pb-80",style:{backgroundImage:"url(".concat(t.imageUrl,")")},"data-overlay":8},n.a.createElement("div",{className:"container text-center"},n.a.createElement("div",{className:"row h-full"},n.a.createElement("div",{className:"col-12 col-lg-8 offset-lg-2 align-self-center"},n.a.createElement("p",{className:"opacity-70"},t.category.name,"s"),n.a.createElement("br",null),n.a.createElement("h1",{className:"display-4 hidden-sm-down"},t.title),n.a.createElement("h1",{className:"hidden-md-up"},t.title),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("p",null,n.a.createElement("span",{className:"opacity-70 mr-8"},"By"),n.a.createElement("a",{className:"text-white",href:"#"},t.user.name,"s")),n.a.createElement("p",null,n.a.createElement("img",{className:"rounded-circle w-40",src:"".concat("","/assets/img/avatar/2.jpg"),alt:"..."}))),n.a.createElement("div",{className:"col-12 align-self-end text-center"},n.a.createElement("a",{className:"scroll-down-1 scroll-down-inverse",href:"#","data-scrollto":"section-content"},n.a.createElement("span",null)))))),n.a.createElement("main",{className:"main-content"},n.a.createElement("div",{className:"section",id:"section-content"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-lg-8 offset-lg-2"},$()(t.content))))),n.a.createElement("div",{className:"section bt-1 bg-grey"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row text-center"},n.a.createElement("div",{className:"text-center p-5"},"COMMENTS HERE."))))))},K=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).state={article:null,loading:!0},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=Object(N.a)(E.a.mark(function e(){var t,a=this;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.articles.find(function(e){return e.slug===a.props.match.params.slug}))){e.next=5;break}this.setState({article:t,loading:!1}),e.next=8;break;case 5:return e.next=7,this.props.getArticle(this.props.match.params.slug);case 7:t=e.sent;case 8:this.setState({article:t,loading:!1});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",null,!this.state.loading&&n.a.createElement(G,{article:this.state.article}))}}]),t}(r.Component),Q=function(e){var t=e.articles,a=e.deleteArticle,r=e.editArticle,c=e.nextUrl,s=e.prevUrl,i=e.handlePagination;return n.a.createElement("div",null,n.a.createElement(x,{backgroundImage:"url(".concat("","/assets/img/hero.jpg"),title:"My Peronsal Posts",subTitle:"Timeline of my greatest blogs."}),n.a.createElement("main",{className:"main-content bg-gray"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-lg-6 offset-lg-3"},t&&t.map(function(e){return n.a.createElement("div",{key:e.id},n.a.createElement(k,{article:e}),n.a.createElement("div",{className:"text-center"},n.a.createElement("button",{onClick:function(){return r(e)},className:"btn btn-info"},"Edit Article"),n.a.createElement("button",{onClick:function(){return a(e.id)},className:"btn btn-danger"},"Delete Post")),n.a.createElement("hr",null))}),n.a.createElement("nav",{className:"flexbox mt-15 mb-30"},n.a.createElement("a",{onClick:function(){return i(s)},className:"btn btn-white ".concat(s?"":"disabled")},"Newer",n.a.createElement("i",{className:"ti-arrow-left fs-9 ml-4"})),n.a.createElement("a",{onClick:function(){return i(c)},className:"btn btn-white $ls{nextUrl?'': 'disabled'}"},n.a.createElement("i",{className:"ti-arrow-right fs-9 mr-4"})," Older"))))))},V=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).handlePagination=function(){var t=Object(N.a)(E.a.mark(function t(a){var r;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getUserArticles(e.props.token,a);case 2:r=t.sent,e.setState({articles:r}),e.props.setArticles(r.data);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.editArticle=function(t){e.props.history.push("/article/edit/".concat(t.slug))},e.deleteArticle=function(){var t=Object(N.a)(E.a.mark(function t(a){var r;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.deleteArticle(a,e.props.token);case 2:r=e.state.articles.data.filter(function(e){return e.id!==a}),e.setState({articles:{data:r}});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.state={articles:{}},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=Object(N.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getUserArticles(this.props.token);case 2:t=e.sent,this.setState({articles:t}),this.props.setArticles(t.data);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement(Q,{articles:this.state.articles.data,nextUrl:this.state.articles.next_page_url,prevUrl:this.state.articles.prev_page_url,handlePagination:this.handlePagination,deleteArticle:this.deleteArticle,editArticle:this.editArticle})}}]),t}(r.Component),X=function(e){var t=e.authUser,a=e.removeAuthUser;return n.a.createElement("nav",{className:"topbar topbar-inverse topbar-expand-md topbar-sticky"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"topbar-left"},n.a.createElement("button",{className:"topbar-toggler"},"\u2630"),n.a.createElement(l.b,{className:"topbar-brand",to:"/"},n.a.createElement("img",{className:"logo-default",src:"".concat("","/assets/img/logo.png"),alt:"logo"}),n.a.createElement("img",{className:"logo-inverse",src:"".concat("","/assets/img/logo-light.png"),alt:"logo"}))),n.a.createElement("div",{className:"topbar-right"},n.a.createElement("ul",{className:"topbar-nav nav"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(l.b,{className:"nav-link",to:"/"},"Home")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(l.b,{className:"nav-link",to:"/articles/create"},"Write new article")),t&&n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{className:"nav-link"},"Hey ",t&&t.user.name,"!",n.a.createElement("i",{className:"fa fa-caret-down"})),n.a.createElement("div",{className:"nav-submenu"},n.a.createElement(l.b,{className:"nav-link",to:"/user/articles"},"My articles"),n.a.createElement(l.b,{className:"nav-link",onClick:a,to:"/"},"Logout"))),!t&&n.a.createElement("li",{className:"nav-item"},n.a.createElement(l.b,{className:"nav-link",to:"/login"},"Login")),!t&&n.a.createElement("li",{className:"nav-item"},n.a.createElement(l.b,{className:"nav-link",to:"/register"},"Signup"))))))},Y=function(){return n.a.createElement("footer",{className:"site-footer"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row gap-y align-items-center"},n.a.createElement("div",{className:"col-12 col-lg-6 offset-lg-3"},n.a.createElement("ul",{className:"nav nav-primary nav-hero"},n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{className:"nav-link",href:"index.html"},"Bloggel")))))))},Z=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).setArticles=function(t){e.setState({articles:t})},e.removeAuthUser=function(){localStorage.removeItem("user"),e.setState({authUser:null}),e.props.NotificationService.success("Logged out!")},e.state={authUser:null,articles:[]},e.setAuthUser=e.setAuthUser.bind(Object(d.a)(e)),e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("user");e&&this.setState({authUser:JSON.parse(e)})}},{key:"setAuthUser",value:function(e){var t=this;this.setState({authUser:e},function(){localStorage.setItem("user",JSON.stringify(e)),t.props.NotificationService.success("Successfull login!"),t.props.history.push("/")})}},{key:"render",value:function(){var e=this,t=this.props.location;return n.a.createElement("div",null,"/login"!==t.pathname&&"/register"!==t.pathname&&n.a.createElement(X,{authUser:this.state.authUser,removeAuthUser:this.removeAuthUser}),n.a.createElement(i.b,{exact:!0,path:"/",render:function(t){return n.a.createElement(S,Object.assign({},t,{getArticles:e.props.ArticleService.getArticles,setArticles:e.setArticles}))}}),n.a.createElement(f,{path:"/user/articles",component:V,props:{getUserArticles:this.props.ArticleService.getUserArticles,setArticles:this.setArticles,token:this.state.authUser?this.state.authUser.token:null,deleteArticle:this.props.ArticleService.deleteArticle},isAuthenticated:null!==this.state.authUser}),n.a.createElement(f,{path:"/article/edit/:slug",component:F,props:{getArticleCategories:this.props.ArticleService.getArticleCategories,createArticle:this.props.ArticleService.createArticle,token:this.state.authUser?this.state.authUser.token:null,updateArticle:this.props.ArticleService.updateArticle,articles:this.state.articles,NotificationService:this.props.NotificationService},isAuthenticated:null!==this.state.authUser}),n.a.createElement(f,{path:"/articles/create",component:F,props:{getArticleCategories:this.props.ArticleService.getArticleCategories,createArticle:this.props.ArticleService.createArticle,token:this.state.authUser?this.state.authUser.token:null,NotificationService:this.props.NotificationService},isAuthenticated:null!==this.state.authUser}),n.a.createElement(v,{path:"/login",component:I,props:{loginUser:this.props.AuthService.loginUser,setAuthUser:this.setAuthUser},isAuthenticated:null!==this.state.authUser}),n.a.createElement(v,{path:"/register",component:_,props:{registerUser:this.props.AuthService.registerUser,setAuthUser:this.setAuthUser},isAuthenticated:null!==this.state.authUser}),n.a.createElement(i.b,{exact:!0,path:"/article/:slug",render:function(t){return n.a.createElement(K,Object.assign({},t,{getArticle:e.props.ArticleService.getArticle,articles:e.state.articles}))}}),"/login"!==t.pathname&&"/register"!==t.pathname&&n.a.createElement(Y,null))}}]),t}(n.a.Component);Z.defaultProps={};var ee=Z;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te=a(43),ae=a(20),re=a.n(ae),ne={apiUrl:"https://react-blog-api.bahdcasts.com/api"},ce=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"registerUser",value:function(){var e=Object(N.a)(E.a.mark(function e(t){var a,r,n,c;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={name:"required|string",email:"required|email",password:"required|string|min:6|confirmed"},r={required:"This {{field}} is required","email.email":"Invalid email","password.confirmed":"The password confirmation does not match"},e.prev=2,e.next=5,Object(te.validateAll)(t,a,r);case 5:return e.next=7,re.a.post("".concat(ne.apiUrl,"/auth/register"),{name:t.name,email:t.email,password:t.password});case 7:return n=e.sent,e.abrupt("return",n.data.data);case 11:if(e.prev=11,e.t0=e.catch(2),c={},!e.t0.response||422!==e.t0.response.status){e.next=17;break}return c.email=e.t0.response.data.email[0],e.abrupt("return",Promise.reject(c));case 17:return e.t0.forEach(function(e){return c[e.field]=e.message}),e.abrupt("return",Promise.reject(c));case 19:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"loginUser",value:function(){var e=Object(N.a)(E.a.mark(function e(t){var a,r,n,c;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={email:"required|email",password:"required|string"},r={required:"This {{field}} is required.","email.email":"Invalid email."},e.prev=2,e.next=5,Object(te.validateAll)(t,a,r);case 5:return e.next=7,re.a.post("".concat(ne.apiUrl,"/auth/login"),{email:t.email,password:t.password});case 7:return n=e.sent,e.abrupt("return",n.data.data);case 11:if(e.prev=11,e.t0=e.catch(2),c={},!e.t0.response||401!==e.t0.response.status){e.next=17;break}return c.email="Invalid email or password.",e.abrupt("return",Promise.reject(c));case 17:return e.t0.forEach(function(e){return c[e.field]=e.message}),e.abrupt("return",Promise.reject(c));case 19:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()}]),e}(),se=function(){function e(){var t=this;Object(o.a)(this,e),this.createArticle=function(){var e=Object(N.a)(E.a.mark(function e(a,r){var n,c,s,i;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={title:"required",content:"required",category:"required"},c={required:"The {{field}} is required"},e.next=5,Object(te.validateAll)(a,n,c);case 5:return e.next=7,t.uploadToCloudinary(a.image);case 7:return s=e.sent,e.next=10,re.a.post("".concat(ne.apiUrl,"/articles"),{title:a.title,content:a.content,category_id:a.category,imageUrl:s.secure_url},{headers:{Authorization:"Bearer ".concat(r)}});case 10:return i=e.sent,e.abrupt("return",i.data);case 14:if(e.prev=14,e.t0=e.catch(0),!e.t0.response){e.next=18;break}return e.abrupt("return",Promise.reject(e.t0.response.data));case 18:return e.abrupt("return",Promise.reject(e.t0));case 19:case"end":return e.stop()}},e,null,[[0,14]])}));return function(t,a){return e.apply(this,arguments)}}(),this.updateArticle=function(){var e=Object(N.a)(E.a.mark(function e(a,r,n){var c,s,i,l;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.image){e.next=4;break}return e.next=3,t.uploadToCloudinary(a.image);case 3:c=e.sent;case 4:return e.prev=4,s={title:"required",content:"required",category:"required"},i={required:"The {{field}} is required"},e.next=9,Object(te.validateAll)(a,s,i);case 9:return e.next=11,re.a.put("".concat(ne.apiUrl,"/articles/").concat(r.id),{title:a.title,content:a.content,category_id:a.category,imageUrl:c?c.secure_url:r.imageUrl},{headers:{Authorization:"Bearer ".concat(n)}});case 11:return l=e.sent,e.abrupt("return",l.data);case 15:if(e.prev=15,e.t0=e.catch(4),!e.t0.response){e.next=19;break}return e.abrupt("return",Promise.reject(e.t0.response.data));case 19:return e.abrupt("return",Promise.reject(e.t0));case 20:case"end":return e.stop()}},e,null,[[4,15]])}));return function(t,a,r){return e.apply(this,arguments)}}(),this.getArticles=Object(N.a)(E.a.mark(function e(){var t,a,r=arguments;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"".concat(ne.apiUrl,"/articles"),e.next=3,re.a.get(t);case 3:return a=e.sent,e.abrupt("return",a.data.data);case 5:case"end":return e.stop()}},e)})),this.getArticle=function(){var e=Object(N.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("".concat(ne.apiUrl,"/article/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getUserArticles=function(){var e=Object(N.a)(E.a.mark(function e(t){var a,r,n=arguments;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:"".concat(ne.apiUrl,"/user/articles"),e.next=3,re.a.get(a,{headers:{Authorization:"Bearer ".concat(t)}});case 3:return r=e.sent,e.abrupt("return",r.data.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}return Object(u.a)(e,[{key:"getArticleCategories",value:function(){var e=Object(N.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=JSON.parse(localStorage.getItem("categories")))){e.next=5;break}return e.abrupt("return",t);case 5:return e.next=7,re.a.get("".concat(ne.apiUrl,"/categories"));case 7:t=e.sent,localStorage.setItem("categories",JSON.stringify(t.data.categories));case 9:return e.abrupt("return",t.data.categories);case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"uploadToCloudinary",value:function(){var e=Object(N.a)(E.a.mark(function e(t){var a,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),a.append("upload_preset","sf1li94r"),e.next=5,re.a.post("https://api.cloudinary.com/v1_1/dazp4u2d6/image/upload",a);case 5:return r=e.sent,e.abrupt("return",r.data);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteArticle",value:function(){var e=Object(N.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.delete("".concat(ne.apiUrl,"/articles/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}});case 2:e.sent;case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),ie=a(64),le=a.n(ie),oe=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"success",value:function(e){new le.a({text:e,type:"success"}).show()}},{key:"error",value:function(e){new le.a({text:e,type:"error"}).show()}},{key:"alert",value:function(e){new le.a({text:e,type:"alert"}).show()}}]),e}(),ue=Object(i.f)(function(e){return n.a.createElement(ee,Object.assign({},e,{AuthService:new ce,ArticleService:new se,NotificationService:new oe}))});s.a.render(n.a.createElement(l.a,null,n.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[144,1,2]]]);
//# sourceMappingURL=main.3c76b4bb.chunk.js.map